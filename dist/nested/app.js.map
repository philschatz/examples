{"version":3,"file":null,"sources":["../../nested/app.js"],"sourcesContent":["import {\n  Component, ContainerEditor, EditorSession, InsertNodeCommand, ProseEditor, insertNode, ProseEditorConfigurator, ProseEditorPackage, Tool\n} from 'substance'\n\n/*\n  Container display component\n*/\nclass ContainerComponent extends Component {\n\n  render($$) {\n    let el = $$('div').addClass('sc-container')\n    el.append(\n      $$(ContainerEditor, {\n        node: this.props.node\n      }).ref('editor')\n    )\n    return el\n  }\n\n}\n\nContainerComponent.fullWidth = true\n\n/*\n  Container insert command\n*/\nclass InsertContainerCommand extends InsertNodeCommand {\n\n  insertNode(tx, args) {\n    let textType = tx.getSchema().getDefaultTextType()\n    let p = tx.create({\n      type: textType,\n      content: 'Lorem ipsum'\n    })\n    args.node = {\n      type: 'container',\n      nodes: [p.id]\n    };\n    return insertNode(tx, args)\n  }\n\n}\n\n/*\n  Package definition of your plugin\n*/\nconst ContainerPackage = {\n  name: 'container',\n  configure: function(config) {\n    config.addComponent('container', ContainerComponent)\n    config.addCommand('insert-container', InsertContainerCommand)\n    config.addTool('insert-container', Tool)\n    config.addIcon('insert-container', { 'fontawesome': 'fa-align-justify' })\n  }\n}\n\n/*\n  Example document\n*/\nconst fixture = function(tx) {\n  let body = tx.get('body')\n\n  tx.create({\n    id: 'title',\n    type: 'heading',\n    level: 1,\n    content: 'Nested Elements'\n  })\n  body.show('title')\n\n  tx.create({\n    id: 'intro',\n    type: 'paragraph',\n    content: [\n      \"The concept of Isolated Nodes allows to create nested content.\"\n    ].join(' ')\n  })\n  body.show('intro')\n\n  let c1 = tx.create({\n    type: 'container',\n    id: 'c1',\n    nodes: []\n  })\n  body.show('c1')\n\n  tx.create({\n    type: 'paragraph',\n    id: 'c1_p1',\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'\n  })\n  c1.show('c1_p1')\n\n  let c2 = tx.create({\n    type: 'container',\n    id: 'c2',\n    nodes: []\n  })\n  c1.show('c2')\n\n  tx.create({\n    type: 'paragraph',\n    id: 'c2_p1',\n    content: 'Nunc turpis erat, sodales id aliquet eget, rutrum vel libero.'\n  })\n  c2.show('c2_p1')\n\n  tx.create({\n    type: 'paragraph',\n    id: 'c1_p2',\n    content: 'Donec dapibus vel leo sit amet auctor. Curabitur at diam urna.'\n  })\n  c1.show('c1_p2')\n\n  tx.create({\n    id: 'the-end',\n    type: 'paragraph',\n    content: [\n      \"That's it.\"\n    ].join('')\n  })\n  body.show('the-end')\n}\n\n/*\n  Application\n*/\n\nlet cfg = new ProseEditorConfigurator()\ncfg.import(ProseEditorPackage);\ncfg.import(ContainerPackage);\n\nwindow.onload = function() {\n  let doc = cfg.createArticle(fixture)\n  let editorSession = new EditorSession(doc, {\n    configurator: cfg\n  })\n  ProseEditor.mount({\n    editorSession: editorSession\n  }, document.body)\n}"],"names":["Component","ContainerEditor","InsertNodeCommand","insertNode","Tool","ProseEditorConfigurator","ProseEditorPackage","EditorSession","ProseEditor"],"mappings":";;;;;;AAIA;;;AAGA,MAAM,kBAAkB,SAASA,mBAAS,CAAC;;EAEzC,MAAM,CAAC,EAAE,EAAE;IACT,IAAI,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC;IAC3C,EAAE,CAAC,MAAM;MACP,EAAE,CAACC,yBAAe,EAAE;QAClB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;OACtB,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC;KACjB;IACD,OAAO,EAAE;GACV;;CAEF;;AAED,kBAAkB,CAAC,SAAS,GAAG,IAAI;;;;;AAKnC,MAAM,sBAAsB,SAASC,2BAAiB,CAAC;;EAErD,UAAU,CAAC,EAAE,EAAE,IAAI,EAAE;IACnB,IAAI,QAAQ,GAAG,EAAE,CAAC,SAAS,EAAE,CAAC,kBAAkB,EAAE;IAClD,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC;MAChB,IAAI,EAAE,QAAQ;MACd,OAAO,EAAE,aAAa;KACvB,CAAC;IACF,IAAI,CAAC,IAAI,GAAG;MACV,IAAI,EAAE,WAAW;MACjB,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;KACd,CAAC;IACF,OAAOC,oBAAU,CAAC,EAAE,EAAE,IAAI,CAAC;GAC5B;;CAEF;;;;;AAKD,MAAM,gBAAgB,GAAG;EACvB,IAAI,EAAE,WAAW;EACjB,SAAS,EAAE,SAAS,MAAM,EAAE;IAC1B,MAAM,CAAC,YAAY,CAAC,WAAW,EAAE,kBAAkB,CAAC;IACpD,MAAM,CAAC,UAAU,CAAC,kBAAkB,EAAE,sBAAsB,CAAC;IAC7D,MAAM,CAAC,OAAO,CAAC,kBAAkB,EAAEC,cAAI,CAAC;IACxC,MAAM,CAAC,OAAO,CAAC,kBAAkB,EAAE,EAAE,aAAa,EAAE,kBAAkB,EAAE,CAAC;GAC1E;CACF;;;;;AAKD,MAAM,OAAO,GAAG,SAAS,EAAE,EAAE;EAC3B,IAAI,IAAI,GAAG,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC;;EAEzB,EAAE,CAAC,MAAM,CAAC;IACR,EAAE,EAAE,OAAO;IACX,IAAI,EAAE,SAAS;IACf,KAAK,EAAE,CAAC;IACR,OAAO,EAAE,iBAAiB;GAC3B,CAAC;EACF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;;EAElB,EAAE,CAAC,MAAM,CAAC;IACR,EAAE,EAAE,OAAO;IACX,IAAI,EAAE,WAAW;IACjB,OAAO,EAAE;MACP,gEAAgE;KACjE,CAAC,IAAI,CAAC,GAAG,CAAC;GACZ,CAAC;EACF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;;EAElB,IAAI,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC;IACjB,IAAI,EAAE,WAAW;IACjB,EAAE,EAAE,IAAI;IACR,KAAK,EAAE,EAAE;GACV,CAAC;EACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;;EAEf,EAAE,CAAC,MAAM,CAAC;IACR,IAAI,EAAE,WAAW;IACjB,EAAE,EAAE,OAAO;IACX,OAAO,EAAE,0DAA0D;GACpE,CAAC;EACF,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;;EAEhB,IAAI,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC;IACjB,IAAI,EAAE,WAAW;IACjB,EAAE,EAAE,IAAI;IACR,KAAK,EAAE,EAAE;GACV,CAAC;EACF,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;;EAEb,EAAE,CAAC,MAAM,CAAC;IACR,IAAI,EAAE,WAAW;IACjB,EAAE,EAAE,OAAO;IACX,OAAO,EAAE,+DAA+D;GACzE,CAAC;EACF,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;;EAEhB,EAAE,CAAC,MAAM,CAAC;IACR,IAAI,EAAE,WAAW;IACjB,EAAE,EAAE,OAAO;IACX,OAAO,EAAE,gEAAgE;GAC1E,CAAC;EACF,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;;EAEhB,EAAE,CAAC,MAAM,CAAC;IACR,EAAE,EAAE,SAAS;IACb,IAAI,EAAE,WAAW;IACjB,OAAO,EAAE;MACP,YAAY;KACb,CAAC,IAAI,CAAC,EAAE,CAAC;GACX,CAAC;EACF,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;CACrB;;;;;;AAMD,IAAI,GAAG,GAAG,IAAIC,iCAAuB,EAAE;AACvC,GAAG,CAAC,MAAM,CAACC,4BAAkB,CAAC,CAAC;AAC/B,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;;AAE7B,MAAM,CAAC,MAAM,GAAG,WAAW;EACzB,IAAI,GAAG,GAAG,GAAG,CAAC,aAAa,CAAC,OAAO,CAAC;EACpC,IAAI,aAAa,GAAG,IAAIC,uBAAa,CAAC,GAAG,EAAE;IACzC,YAAY,EAAE,GAAG;GAClB,CAAC;EACFC,qBAAW,CAAC,KAAK,CAAC;IAChB,aAAa,EAAE,aAAa;GAC7B,EAAE,QAAQ,CAAC,IAAI,CAAC;;;"}